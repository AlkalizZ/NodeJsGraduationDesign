---
title: æ’åºç®—æ³•--åŸºæœ¬æ’åºç®—æ³•
date: 2016-09-08
tags:
  - JavaScript
  - ç®—æ³•
description: æœ€è¿‘å…¬å¸é‡Œæ²¡æœ‰å®‰æ’ä»€ä¹ˆäº‹æƒ…ï¼Œç¿»äº†ç¿»`æ•°æ®ç»“æ„ä¸ç®—æ³•`è¿™æœ¬ä¹¦ï¼Œè¡¥è¶³ä¸€ä¸‹è‡ªå·±åœ¨ç®—æ³•æ–¹é¢çš„çŸ¥è¯†ã€‚
---

æœ€è¿‘å…¬å¸é‡Œæ²¡æœ‰å®‰æ’ä»€ä¹ˆäº‹æƒ…ï¼Œç¿»äº†ç¿»`æ•°æ®ç»“æ„ä¸ç®—æ³•`è¿™æœ¬ä¹¦ï¼Œè¡¥è¶³ä¸€ä¸‹è‡ªå·±åœ¨ç®—æ³•æ–¹é¢çš„çŸ¥è¯†ã€‚

## æ•°ç»„ç±»å’Œæ–¹æ³•
es6çš„å‡ºç°å·²ç»æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œä¹‹å‰çœ‹è¿‡ä¸€äº›å…³äºes6çš„æ•™ç¨‹ä¸è¿‡ä¸€ç›´æ²¡æœ‰å®è·µè¿‡ï¼Œè¿™æ¬¡æ­£å¥½ç”¨es6æ¥ç»ƒç»ƒæ‰‹ã€‚

åœ¨è®²è§£æ¯ä¸€ä¸ªæ’åºç®—æ³•å‰æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªå«cArrayçš„ç±»å’Œä¸€äº›æ–¹æ³•æ¥è¾…åŠ©æˆ‘ä»¬ã€‚

å…ˆä¸Šä»£ç ï¼š

```js
class cArray {
	constructor(numOfElement) {
		this.dataStore = [];                // å‚¨å­˜æ•°ç»„
		this.numOfElement = numOfElement;   // æ•°ç»„çš„é•¿åº¦
            
		// é»˜è®¤æ¯ä¸ªå€¼è‡ªå¢
		for (let i = 0; i < numOfElement; i++) {
			this.dataStore[i] = i;
		}
	}
	
	/**
	 * éšæœºç”Ÿæˆæ•°ç»„æˆå‘˜
	 */
	randomSetArr() {
		for (let i = 0; i < this.numOfElement; i++) {
			this.dataStore[i] = Math.floor(Math.random() * this.numOfElement + 1);
		}
	}
	
	/**
	 * æ•°ç»„æ·±æ‹·è´
	 * @returns {*}
	 */
	copyArr(){
		let length = this.dataStore.length,
			newArr = new cArray(length);
		for(let i = 0; i < length; i++){
			newArr.dataStore[i] = this.dataStore[i];
		}
		return newArr;
	}

	/**
	 * è¾“å‡ºæ•°ç»„
	 * @returns {string}
	 */
	toString() {
		let str = '';
		for (let i = 0; i < this.dataStore.length; i++) {
			str += this.dataStore[i] + ' ';
			if (i > 0 && i % 10 === 0) {
				str += '\n'; // æ¯è¾“å‡º10ä¸ªæ¢è¡Œ
			}
		}
		return str;
	}
	
	/**
	 * äº¤æ¢æ•°ç»„æˆå‘˜
	 * @param arr
	 * @param index1
	 * @param index2
	 */
	swap(arr, index1, index2) {
		let temp = arr[index1];
		arr[index1] = arr[index2];
		arr[index2] = temp;
	}
}
```
æˆ‘ä»¬æ¥æŒ¨ä¸ªè§£é‡Šä¸€ä¸‹ã€‚
### 0. constructor
åœ¨constructoré‡Œè¦æ±‚ä¼ å…¥ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ•°ç»„çš„é•¿åº¦ï¼Œç„¶åå¯¹æ•°ç»„ä¾æ¬¡èµ‹ä¸Šé»˜è®¤å€¼ã€‚

### 1. randomSetArr
é»˜è®¤é€’å¢çš„æ•°ç»„æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦ä¸€ä¸ªæ–¹æ³•ï¼ŒæŠŠæ•°ç»„æ¯ä¸ªæˆå‘˜å®šä¸ºéšæœºå€¼ã€‚

### 2. copyArr
å¦‚æœæƒ³è¦å‡†ç¡®æ¯”è¾ƒä¸åŒæ’åºç®—æ³•çš„é€Ÿåº¦å·®å¼‚ï¼Œ`å•ä¸€å˜é‡åŸåˆ™`å¾ˆé‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠéšæœºè®¾å®šçš„å€¼æ·±æ‹·è´å‡ºæ¥ï¼Œè·å¾—å¤šä¸ªå†…å®¹ç›¸åŒåˆä¸äº’ç›¸å½±å“çš„æ•°ç»„ã€‚

### 3. toString
è¿™ä¸ªå°±ä¸ç”¨è§£é‡Šä»€ä¹ˆäº†ï¼ŒæŠŠæ•°ç»„æˆå‘˜10ä¸ªä¸€è¡Œåœ°ä¾æ¬¡è¾“å‡ºå‡ºæ¥ã€‚

### 4. swap
æ—¢ç„¶æ˜¯æ’åºå˜›ï¼Œè‚¯å®šä¼šæœ‰æ•°æ®æˆå‘˜é—´äº’ç›¸äº¤æ¢ä½ç½®çš„æ—¶å€™


## åŸºæœ¬æ’åºç®—æ³•
å‰æˆå·®ä¸å¤šå°±è¿™æ ·äº†ï¼Œæˆ‘ä»¬æ¥å¼€å§‹æ­£é¢˜å§ã€‚

`æ•°æ®ç»“æ„ä¸ç®—æ³•`ä¸­è¯´ï¼šåŸºæœ¬æ’åºç®—æ³•å…¶æ ¸å¿ƒæ€æƒ³æ˜¯æŒ‡å¯¹ä¸€ç»„æ•°æ®æŒ‰ç…§ä¸€å®šçš„é¡ºåºé‡æ–°æ’åˆ—ã€‚é‡æ–°æ’åˆ—æ—¶ç”¨åˆ°çš„æŠ€æœ¯æ˜¯ä¸€ç»„åµŒå¥—çš„forå¾ªç¯ã€‚å…¶ä¸­ï¼Œ**å¤–å¾ªç¯ä¼šéå†æ•°ç»„çš„æ¯ä¸€é¡¹ï¼Œå†…å¾ªç¯åˆ™ç”¨äºæ¯”è¾ƒå…ƒç´ **ã€‚
### å†’æ³¡æ’åº
å†’æ³¡æ’åºï¼Œæ˜¯æœ€æ…¢çš„æ’åºä¹‹ä¸€ï¼Œä¹Ÿæ˜¯ä¸€ç§æœ€å®¹æ˜“å®ç°çš„æ’åºç®—æ³•ã€‚

ä»¥æŒ‰å‡åºæ’åˆ—ä¸ºä¾‹ï¼Œè¾ƒå¤§çš„å€¼ä¼šæµ®åŠ¨åˆ°æ•°ç»„çš„å³ä¾§ï¼Œè¾ƒå°çš„å€¼ä¼šæµ®åŠ¨åˆ°æ•°ç»„çš„å·¦ä¾§ã€‚

å…¶å®å°±æ˜¯å¾ˆç®€å•çš„æ•°ç»„ä¸­ä¸¤ä¸¤æˆå‘˜ä¾æ¬¡æ¯”è¾ƒï¼Œå¦‚æœå·¦å¤§äºå³ï¼Œå°±äº¤æ¢ä½ç½®ã€‚

```js
/**
 * æ³¨æ„ï¼šæ­¤å‡½æ•°ä¸ºcArrayç±»çš„æ–¹æ³•ï¼Œä¸‹åŒ
 */
bubbleSort() {
	let numOfElements = this.dataStore.length;
	for (let outer = numOfElements; outer >= 2; outer--) {
		for (let inner = 0; inner <= outer; inner++) {
			if (this.dataStore[inner] > this.dataStore[inner + 1]) {
          		this.swap(this.dataStore, inner, inner + 1);
          	}
   		}
	}
}
```

æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹è¿™ä¸ªæ’åºç®—æ³•çš„æ•ˆæœï¼Œå’Œå¤„ç†æ—¶é—´ï¼š

```js
var numOfElements = 100,
    myArray = new cArray(numOfElements);
myArray.randomSetArr();
console.log(myArray.toString());

var arr1 = myArray.copyArr();

console.time('bubbleSort');
arr1.bubbleSort();
console.timeEnd('bubbleSort');
console.log(arr1.toString());

// æ’åºå‰ï¼š
// 36 4 81 58 82 6 88 79 37 57 33 
// 96 60 21 71 67 14 1 10 70 86 
// 6 92 84 96 34 72 81 31 96 1 
// 66 21 71 47 94 55 81 23 38 80 
// 40 21 23 69 94 85 51 16 40 53 
// 89 85 32 28 96 9 9 68 80 37 
// 55 98 64 80 79 59 79 28 3 30 
// 74 57 55 59 88 38 50 8 17 72 
// 16 25 70 72 58 85 52 57 71 43 
// 24 90 77 71 73 79 59 57 75 
// æ’åºåï¼š
// 1 1 3 4 6 6 8 9 9 10 14 
// 16 16 17 21 21 21 23 23 24 25 
// 28 28 30 31 32 33 34 36 37 37 
// 38 38 40 40 43 47 50 51 52 53 
// 55 55 55 57 57 57 57 58 58 59 
// 59 59 60 64 66 67 68 69 70 70 
// 71 71 71 71 72 72 72 73 74 75 
// 77 79 79 79 79 80 80 80 81 81 
// 81 82 84 85 85 85 86 88 88 89 
// 90 92 94 94 96 96 96 96 98 
// bubbleSort: 1.033ms
```
### é€‰æ‹©æ’åº
é€‰æ‹©æ’åºï¼Œä»æ•°ç»„çš„å¼€å¤´å¼€å§‹,å°†ç¬¬ä¸€ä¸ªå…ƒç´ å’Œå…¶ä»–å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚æ£€æµ‹å®Œæ‰€æœ‰å…ƒç´ å,æœ€å°çš„å…ƒç´ ä¼šè¢«æ”¾åˆ°æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®,ç„¶åç®—æ³•ä¼šä»ç¬¬äºŒä¸ªä½ç½®ç»§ç»­ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´è¿›è¡Œ,å½“è¿›è¡Œåˆ°æ•°ç»„çš„å€’æ•°ç¬¬äºŒä¸ªä½ç½®æ—¶,æ‰€æœ‰çš„æ•°æ®ä¾¿å®Œæˆäº†æ’åºã€‚

```js
selectionSort() {
	let min;
	for (let outer = 0; outer <= this.dataStore.length - 2; outer++) {
		min = outer;

		// åœ¨å†…å¾ªç¯ä¸­æ€»ä¼šè·å¾—ä¸€ä¸ªæœ€å°çš„å€¼
		for (let inner = outer + 1; inner <= this.dataStore.length - 1; inner++) {
			if (this.dataStore[inner] < this.dataStore[min]) {
				min = inner;  // å¾—åˆ°æœ€å°æ•°çš„ç´¢å¼•
			}
		}
		this.swap(this.dataStore, outer, min);
	}
}
```
æ¥ä¸‹æ¥æ˜¯æµ‹è¯•æ—¶é—´ï¼š

```js
var arr2 = myArray.copyArr();

console.time('selectionSort');
arr2.selectionSort();
console.timeEnd('selectionSort');
console.log(arr2.toString());

// æ’åºå‰ï¼š
// 36 4 81 58 82 6 88 79 37 57 33 
// 96 60 21 71 67 14 1 10 70 86 
// 6 92 84 96 34 72 81 31 96 1 
// 66 21 71 47 94 55 81 23 38 80 
// 40 21 23 69 94 85 51 16 40 53 
// 89 85 32 28 96 9 9 68 80 37 
// 55 98 64 80 79 59 79 28 3 30 
// 74 57 55 59 88 38 50 8 17 72 
// 16 25 70 72 58 85 52 57 71 43 
// 24 90 77 71 73 79 59 57 75 
// æ’åºåï¼š
// 1 1 3 4 6 6 8 9 9 10 14 
// 16 16 17 21 21 21 23 23 24 25 
// 28 28 30 31 32 33 34 36 37 37 
// 38 38 40 40 43 47 50 51 52 53 
// 55 55 55 57 57 57 57 58 58 59 
// 59 59 60 64 66 67 68 69 70 70 
// 71 71 71 71 72 72 72 73 74 75 
// 77 79 79 79 79 80 80 80 81 81 
// 81 82 84 85 85 85 86 88 88 89 
// 90 92 94 94 96 96 96 96 98 
// selectionSort: 1.397ms
```
### æ’å…¥æ’åº
æ’å…¥æ’åºæœ‰ä¸¤ä¸ªå¾ªç¯ã€‚å¤–å¾ªç¯å°†æ•°ç»„æŒ¨ä¸ªç§»åŠ¨,å†…å¾ªç¯å¯¹å¤–å¾ªç¯ä¸­é€‰ä¸­çš„å…ƒç´ ä»¥åŠå®ƒåé¢çš„é‚£ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå¤–å¾ªç¯ä¸­é€‰ä¸­çš„å…ƒç´ æ¯”å†…å¾ªç¯ä¸­é€‰ä¸­çš„å…ƒç´ å°,é‚£ä¹ˆæ•°ç»„å…ƒç´ ä¼šå‘å³ç§»åŠ¨ã€‚æ’å…¥æ’åºçš„è¿è¡Œå¹¶éé€šè¿‡æ•°æ®äº¤æ¢,è€Œæ˜¯é€šè¿‡å°†è¾ƒå¤§çš„æ•°ç»„å…ƒç´ ç§»åŠ¨åˆ°å³ä¾§,ä¸ºæ•°ç»„å·¦ä¾§çš„è¾ƒå°å…ƒç´ è…¾å‡ºä½ç½®ã€‚

æ²¡æœ‰ç†è§£åˆ°å—ï¼Ÿæ²¡å…³ç³»ï¼Œä¹¦ä¸Šä¸¾äº†ä¸€ä¸ªéå¸¸é€šä¿—æ˜“æ‡‚çš„ğŸŒ°ã€‚

> æˆ‘è®©ç­é‡Œçš„æ¯ä¸ªå­¦ç”Ÿä¸Šäº¤ä¸€å¼ å†™æœ‰ä»–çš„åå­—ã€å­¦ç”Ÿè¯å·ä»¥åŠä¸ªäººç®€ä»‹çš„ç´¢å¼•å¡ç‰‡ã€‚å­¦ç”Ÿäº¤ä¸Šæ¥çš„æ—¶å€™æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œä½†æ˜¯æˆ‘æƒ³è®©è¿™äº›å¡ç‰‡æŒ‰å­—æ¯é¡ºåºæ‹å¥½ï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“åœ°ä¸ç­çº§èŠ±åå†Œè¿›è¡Œå¯¹ç…§äº†ã€‚
>
> æˆ‘å°†å¡ç‰‡å¸¦å›åŠå…¬å®¤ï¼Œæ¸…ç†å¥½ä¹¦æ¡Œï¼Œç„¶åæ‹¿èµ·ç¬¬ä¸€å¼ å¡ç‰‡ï¼Œå¡ç‰‡ä¸Šçš„å§“æ°æ˜¯ `Smith` ã€‚æˆ‘æŠŠå®ƒæ”¾åˆ°æ¡Œå­çš„å·¦ä¸Šè§’ï¼Œç„¶åå†æ‹¿èµ·ç¬¬äºŒå¼ å¡ç‰‡ï¼Œè¿™å¼ å¡ç‰‡ä¸Šçš„å§“æ°æ˜¯ `Brown` ã€‚æˆ‘æŠŠ `Smith` ç§»å³ï¼ŒæŠŠ `Brown` æ”¾åˆ° `Smith` çš„å‰é¢ã€‚ ä¸‹ä¸€å¼ å¡ç‰‡æ˜¯ `Williams` ï¼Œå¯ä»¥æŠŠå®ƒæ”¾åˆ°æ¡Œé¢çš„æœ€å³è¾¹ï¼Œè€Œä¸ç”¨ç§»åŠ¨å…¶ä»–ä»»ä½•å¡ç‰‡ã€‚ æ¥ä¸‹æ¥æ˜¯ `Acklin` ã€‚è¿™å¼ å¡ç‰‡å¿…é¡»æ”¾åœ¨è¿™äº›å¡ç‰‡çš„æœ€å‰é¢ï¼Œå› æ­¤å…¶ä»–æ‰€æœ‰å¡ç‰‡å¿…é¡»å‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®æ¥ä¸º `Acklin` è¿™å¼ å¡ç‰‡è…¾å‡ºä½ç½®ã€‚è¿™å°±æ˜¯æ’å…¥æ’åºçš„æ’åºåŸç†ã€‚

æ¥çœ‹ä»£ç å’Œè¿è¡Œç»“æœï¼š

```js
insertSort() {
	let temp, inner;
	for (let outer = 1; outer <= this.dataStore.length - 1; outer++) {
		temp = this.dataStore[outer];   // å°†éœ€è¦æ¯”è¾ƒçš„æ•°æ®æš‚å­˜
		inner = outer;

		// å°†æ•°ç»„å³ç§»
		while (inner > 0 && (this.dataStore[inner - 1] >= temp)) {
			this.dataStore[inner] = this.dataStore[inner - 1];
			--inner;
		}
		this.dataStore[inner] = temp;   // å°†å½“å‰forå¾ªç¯ä¸­æœ€å°å€¼æ”¾åˆ°å·¦è¾¹
	}
}
```
```js
var arr3 = myArray.copyArr();

console.time('insertSort');
arr3.insertSort();
console.timeEnd('insertSort');
console.log(arr3.toString());

// æ’åºå‰ï¼š
// 36 4 81 58 82 6 88 79 37 57 33 
// 96 60 21 71 67 14 1 10 70 86 
// 6 92 84 96 34 72 81 31 96 1 
// 66 21 71 47 94 55 81 23 38 80 
// 40 21 23 69 94 85 51 16 40 53 
// 89 85 32 28 96 9 9 68 80 37 
// 55 98 64 80 79 59 79 28 3 30 
// 74 57 55 59 88 38 50 8 17 72 
// 16 25 70 72 58 85 52 57 71 43 
// 24 90 77 71 73 79 59 57 75 
// æ’åºåï¼š
// 1 1 3 4 6 6 8 9 9 10 14 
// 16 16 17 21 21 21 23 23 24 25 
// 28 28 30 31 32 33 34 36 37 37 
// 38 38 40 40 43 47 50 51 52 53 
// 55 55 55 57 57 57 57 58 58 59 
// 59 59 60 64 66 67 68 69 70 70 
// 71 71 71 71 72 72 72 73 74 75 
// 77 79 79 79 79 80 80 80 81 81 
// 81 82 84 85 85 85 86 88 88 89 
// 90 92 94 94 96 96 96 96 98 
// insertSort: 1.630ms
```

### åŸºæœ¬æ’åºç®—æ³•çš„è®¡æ—¶æ¯”è¾ƒ
åœ¨ä¸Šé¢çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å…¶å®å·²ç»åœ¨æ•°ç»„é•¿åº¦ä¸º100çš„æƒ…å†µä¸‹è¿›è¡Œäº†æ¯”è¾ƒï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸‰ç§ç®—æ³•çš„æ‰§è¡Œäº‹ä»¶å·®å¼‚å¹¶ä¸å¤§ã€‚æ¥ç€æˆ‘ä»¬æ¥åˆ†åˆ«æµ‹è¯•å¯¹1kä¸ªå’Œ10kä¸ªæ•°æ®æ’åºæ‰€èŠ±æ—¶é—´ã€‚

```js
// é•¿åº¦ä¸º1000çš„æƒ…å†µ
var numOfElements = 1000,
	myArray = new cArray(numOfElements);
myArray.randomSetArr();
var arr1 = myArray.copyArr(),
    arr2 = myArray.copyArr(),
    arr3 = myArray.copyArr();

console.time('bubbleSort');
arr1.bubbleSort();
console.timeEnd('bubbleSort');

console.time('selectionSort');
arr2.selectionSort();
console.timeEnd('selectionSort');

console.time('insertSort');
arr3.insertSort();
console.timeEnd('insertSort');

// bubbleSort: 14.968ms
// selectionSort: 2.077ms
// insertSort: 1.425ms
```
å…¶å®å·²ç»æ¸æ¸åœ°æœ‰äº›å·®å¼‚äº†ï¼Œä¸è¿‡è¿˜ä¸å¤§ï¼Œæˆ‘ä»¬æ¥ç€å¢åŠ é•¿åº¦

```js
var numOfElements = 10000;

// bubbleSort: 843.945ms
// selectionSort: 67.561ms
// insertSort: 38.479ms
```

### å°ç»“
10000ä¸ªæ•°å­—å’Œ1000ä¸ªæ•°å­—çš„æµ‹è¯•ç»“æœä¸€è‡´ï¼Œæˆ‘ä»¬å¯ä»¥åˆæ­¥å¾—å‡ºï¼š**é€‰æ‹©æ’åºå’Œæ’å…¥æ’åºè¦æ¯”å†’æ³¡æ’åºå¿«ï¼Œæ’å…¥æ’åºæ˜¯è¿™ä¸‰ç§ç®—æ³•ä¸­æœ€å¿«çš„ã€‚**ä¸è¿‡è¿™ä¸ªç»“æœæ˜¯åŸºäºæ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œè¾ƒå°çš„æ•°æ®é‡å¹¶ä¸èƒ½æ¯”è¾ƒå‡ºè¿™ä¸‰ç§æ’åºç®—æ³•çš„å¿«æ…¢ã€‚

ä¸‹ä¸€æ¬¡æœ‰æ—¶é—´å†çœ‹çœ‹**é«˜çº§æ’åºç®—æ³•ã€‚**

ä»¥ä¸Šã€‚